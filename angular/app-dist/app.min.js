!function(){"use strict";function t(t,o,e){e.otherwise("/"),o.state("home",{url:"/",templateUrl:"home/index.html",controller:"Home.IndexController",controllerAs:"vm",data:{activeTab:"home"}}).state("posts",{url:"/posts",templateUrl:"posts/index.html",controller:"Posts.IndexController",controllerAs:"vm",data:{activeTab:"posts"}}).state("account",{url:"/account",templateUrl:"account/index.html",controller:"Account.IndexController",controllerAs:"vm",data:{activeTab:"account"}})}function o(t,o,e){t.defaults.headers.common.Authorization="Bearer "+e.jwtToken,o.$on("$stateChangeSuccess",function(t,e,n,r,a){o.activeTab=e.data.activeTab})}t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],o.$inject=["$http","$rootScope","$window"],angular.module("app",["ui.router"]).config(t).run(o),$(function(){$.get("/token",function(t){window.jwtToken=t,angular.bootstrap(document,["app"])})})}();
!function(){"use strict";function n(n){function e(){n.GetCurrent().then(function(n){r.user=n})}var r=this;r.user=null,e()}n.$inject=["UserService"],angular.module("app").controller("Home.IndexController",n)}();
!function(){"use strict";function e(e){function n(){function n(){var n=e.flash;n&&(n.keepAfterLocationChange?n.keepAfterLocationChange=!1:delete e.flash)}e.$on("$locationChangeStart",function(){n()})}function t(n,t){e.flash={message:n,type:"success",keepAfterLocationChange:t}}function a(n,t){e.flash={message:n,type:"danger",keepAfterLocationChange:t}}var o={};return o.Success=t,o.Error=a,n(),o}e.$inject=["$rootScope"],angular.module("app").factory("FlashService",e)}();
!function(){"use strict";function t(t,e){function n(){return t.get("/api/posts").then(a,p)}function r(e){return t.get("/api/posts/"+e).then(a,p)}function u(e){return t.post("/api/posts",e).then(a,p)}function i(e){return t.put("/api/posts/"+e._id,e).then(a,p)}function o(e){return t["delete"]("/api/posts/"+e).then(a,p)}function a(t){return t.data}function p(t){return e.reject(t.data)}var c={};return c.GetAll=n,c.GetById=r,c.Create=u,c.Update=i,c.Delete=o,c}t.$inject=["$http","$q"],angular.module("app").factory("PostService",t)}();
!function(){"use strict";function e(e,t){function n(){return e.get("/api/users/current").then(o,p)}function r(){return e.get("/api/users").then(o,p)}function u(t){return e.get("/api/users/"+t).then(o,p)}function i(t){return e.get("/api/users/"+t).then(o,p)}function a(t){return e.post("/api/users",t).then(o,p)}function s(t){return e.put("/api/users/"+t._id,t).then(o,p)}function c(t){return e["delete"]("/api/users/"+t).then(o,p)}function o(e){return e.data}function p(e){return t.reject(e.data)}var f={};return f.GetCurrent=n,f.GetAll=r,f.GetById=u,f.GetByUsername=i,f.Create=a,f.Update=s,f.Delete=c,f}e.$inject=["$http","$q"],angular.module("app").factory("UserService",e)}();
!function(){"use strict";function t(t){function n(){}var o=this;o.posts=[],n()}t.$inject=["PostService"],angular.module("app").controller("Posts.IndexController",t)}();
!function(){"use strict";function n(n,e,t){function r(){e.GetCurrent().then(function(n){u.user=n})}function c(){e.Update(u.user).then(function(){t.Success("User updated")})["catch"](function(n){t.Error(n)})}function o(){e.Delete(u.user._id).then(function(){n.location="/login"})["catch"](function(n){t.Error(n)})}var u=this;u.user=null,u.saveUser=c,u.deleteUser=o,r()}n.$inject=["$window","UserService","FlashService"],angular.module("app").controller("Account.IndexController",n)}();